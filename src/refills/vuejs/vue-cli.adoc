---
rid: 1495634
bid: vuejs
rcd: vue-cli
srcpath: vuejs/vue-cli.adoc
title: vue-cli メモ
category: Vue.js
date: 2017.5.24
layout: refill.jade
---

== vue-cli とは

- https://github.com/vuejs/vue-cli

[quote, vuejs/vue-cli]
Simple CLI for scaffolding Vue.js projects

Vue.js プロジェクトのひな形を作るためのコマンドラインツール。
Node.js 上で動作します。


=== インストール

[source,bash]
----
$ npm install -g vue-cli
----

=== 使い方

[source,bash]
----
$ vue init <template-name> <project-name>
----

==== hot reload, linting, testing & css extraction.

[source,bash]
----
$ vue init webpack my-project
----

==== for quick prototyping

[source,bash]
----
$ vue init webpack-simple my-project
----


== 単一ファイルコンポーネント

[.no-shadow]
image::https://s3-ap-northeast-1.amazonaws.com/syon.github.io/refills/chronicle/201705/vue-component-with-preprocessors.png[Single File Component,,600]

- link:https://jp.vuejs.org/v2/guide/single-file-components.html[単一ファイルコンポーネント - Vue.js]

=== テンプレートを Pug (Jade) で書く

`pug` と `pug-loader` をインストールします。

[source,bash]
----
$ npm install --save-dev pug pug-loader
----

[source,jade]
----
<template lang="pug">
div
  p {{ greeting }} World!
  other-component
</template>
----

=== スタイルを Stylus で書く

`stylus` と `stylus-loader` をインストールします。

[source,bash]
----
$ npm install --save-dev stylus stylus-loader
----

[source,jade]
----
<style lang="stylus" scoped>
p
  font-size 2em
  text-align center
</style>
----

=== jQueryを使う

`jquery` をインストールして webpack にプラグインとして登録します。

[source,bash]
----
$ npm install --save jquery
----

image::https://s3-ap-northeast-1.amazonaws.com/syon.github.io/refills/chronicle/201707/vue-jquery-webpack.png[vue jquery webpack]

.webpack.base.conf.js
```js
plugins: [
  new webpack.ProvidePlugin({
    $: 'jquery',
  }),
]
```

==== '$' is not defined`

webpack プラグインだけ登録しても、 ESLint の設定をしないと動作しません。

image::https://s3-ap-northeast-1.amazonaws.com/syon.github.io/refills/chronicle/201707/vue-jquery-eslint-error.png[vue jquery eslint error]

[quote]
`✘  http://eslint.org/docs/rules/no-undef  '$' is not defined`

ESLint の設定も変更してエラーが出ないようにします。

image::https://s3-ap-northeast-1.amazonaws.com/syon.github.io/refills/chronicle/201707/vue-jquery-eslint.png[vue jquery eslint]

.eslintrc.js
```js
env: {
  browser: true,
  jquery: true,
},
```

=== Vue Router にてページタイトルを変更する

.src/main.js
```js
router.beforeEach((to, from, next) => {
  document.title = to.meta.title;
  next();
});
```

- link:https://github.com/vuejs/vue-router/issues/914[how to change document.title in vue-router? · Issue #914 · vuejs/vue-router]


'''

==== ToDo

- Vuex
- router
- PostCSS, Autoprefixer
